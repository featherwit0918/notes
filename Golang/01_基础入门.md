## Go基础入门



### 输出

在终端将想要展示的数据显示出来, 例如: 欢迎登陆、请输入用户名等...

```go
package main

import "fmt"

func main(){
    fmt.Println("Hello World!!!")
}
```

#### 内置函数

在Go的内置函数中提供了 `Print` 和 `Println`两个函数用于做输出。

- print，输出
- println，输出并在最后位置添加换行符

```go
package main
func main() {
    print("Hello World!!!")
    print("Hello Golang!!!")
}

>>> 最终输出：
Hello World!!!Hello Goalng!!!
```

```go
package main
func main() {
    println("Hello World!!!")
    println("Hello Golang!!!")
}

>>> 最终输出：
Hello World!!!
Hello Goalng!!!
```

上述函数虽然可以实现输出的功能，但在实际开发中不建议使用，

原因有两点:

1. 官方不保证会一直在Go中保留此功能，在之后的版本可能会被移除；
2. 这两个函数是用于做标准错误输出而非标准输出。

>扩展：关于标准错误和标准输出，每个进程都各有一个 stdin，stdout 和 stderr 文件描述符。使用的标准方法是 stdout 作为进程输出，stderr 作为进程错误输出。

#### fmt标准库(推荐)

fmt是Go标准库中提供了用于进行输入、输出的模块

fmt模块中常见的输出相关函数有：

- `fmt.Print`，输出。
- `fmt.Println`，输出并在末尾添加换行符。
- `fmt.Printf`，格式化的输出，第一个参数是含占位符的字符串，后续参数则用于格式化字符串。

```go
package main
import "fmt"
func main() {
    fmt.Print("南通州北通州")
    fmt.Print("南北通州通南北")
}
>>> 输出：
南通州北通州南北通州通南北
```

```go
package main
import "fmt"
func main() {
    fmt.Println("男学生女学生")
    fmt.Println("男女学生生男女")
}
>>> 输出：
男学生女学生
男女学生生男女
```

```go
package main
import "fmt"
func main() {
    // %s，占位符用于格式化字符串
    // %d，占位符用于格式化整型
    // %f，十进制小数
    // %.2f，保留小数点后两位（四舍五入）
    fmt.Printf("我叫%s, 今年%d岁。\n", "张三",21)
    fmt.Printf("您的账户余额为：%f，仅保留小数点后两位的话为：%.2f", 1999.213, 1999.216)
}
>>> 输出：
我叫张三, 今年21岁
```



### 注释

- 单行注释， `//`
- 多行注释， `/* */`

快捷键：选中代码 然后点击键盘的 【contrl + ?】

```go
package main
import "fmt"
func main() {
    // 单行注释
    
    /*  多行注释
    fmt.Println(666)
    fmt.Println(6 + 9)
    fmt.Println(6 - 9)
    fmt.Println(6 * 9)
    fmt.Println(16 / 9) // 商
    */
    
    fmt.Println(16 % 9) // 余数
}
```



### 变量

变量: 其实就相当于给某个值设置一个`昵称`，此`昵称`代指当前值。

在Go中变量声明的基本格式为：`var 变量名 类型 = 值` ，例如：

```go
// 声明一个字符串类型的变量name, 值为"张三"
var name string = "张三"

// 声明一个整型类型的变量age，值为 18
var age int = 18

// 声明一个布尔类型的变量flag, 值为true
var flag bool = true
```

先声明后赋值

```go
// 声明了一个字符类型的变量
var username string
username = "张三"
fmt.Println(username)
```

>编写变量的意义:
>
>- 编写代码方便
>
>```go
>// 请将文本输出3次: "伤情最是晚凉天, 憔悴斯人不堪怜"
>var message string = "伤情最是晚凉天, 憔悴斯人不堪怜"
>fmt.Println(message)
>fmt.Println(message)
>fmt.Println(message)
>```
>
>- 存储结果, 方便之后使用
>
>```go
>var v1 int = 99
>var v2 int = 33
>var v3 int = v1 + v2
>var v4 int = v1 * v2
>fmt.Println(v3)
>fmt.Println(v4)
>```
>
>- 存储用户输入的值
>
>```go
>var name1 string
>
>fmt.Scanf("%s", &name1)  // 用户输入字符串并赋值给name变量
>
>if name1 == "张三" {
>    fmt.Println("用户名输入正确")
>}else {
>    fmt.Println("用户名输入错误")
>}
>```

#### 变量名要求

对于变量名有以下要求和建议：

- 要求（必须遵守，否则报错）

    - 变量名由字母、数字、下划线组成，且首个字符不能为数字

    - 不能使用Go内置的25个关键字

        ```go
        break、default、func、interface、select、case、defer、go、map、struct、chan、else、goto、package、switch、const、fallthrough、if、range、type、continue、for、import、return、var
        ```

- 建议

    - 变量的命名规则遵循骆驼命名法，即首个单词小写，每个新单词的首字母大写，例如：`numShips` 和 `startDate`。
    - 见名知意，通过变量名就可以知道变量所代指的值，例如：`name`、`email`。

#### 变量的简写

为了能让变量的声明更方便，Go还提供了一些声明变量的简化方式

- 省略类型，格式为：`var 变量名 = 值`

    ```go
    var name = "张三"
    var age = 18
    
    // 在给变量赋值时已知值的类型，所以Go编译器自动可以自动检测到类型，故可简化编写。
    ```

- 省略var关键字，格式为：`变量名 := 值` （推荐）

    ```go
    name := "张三"
    age := 18
    ```

- 先声明再赋值

    ```go
    var name string
    var message string
    var data string
    
    var name,message,data string
    name = "张三"
    message = "中奖了"
    data = "中了5000w"
    ```

> 注意：如果变量只声明不赋值，Go内部其实会给变量默认设置值：int 为 0，float 为 0.0，bool 为 false，string 为空字符串，指针为 nil 。

#### 因式分解

在定义多个变量时候，可以通过因式分解的方式进行简化代码

```go
var (
    name = "张三"
    age = 18
    hobby = "Golang"
    salary = 19999
    gender string  // 只声明不赋值, 有一个默认值为: ""
    length int     // 只声明不赋值, 有一个默认值为: 0
    flag bool      // 只声明不赋值, 有一个默认值为: false
)
fmt.Println(name, age, hobby, salary, gender, length, flag)
```

> 扩展: go编译器会认为声明变量不使用就会报错

#### 变量的作用域

根据变量所在位置不同，变量有全局和局部之分。

- 全局变量

```go
package main

import "fmt"

// 声明全局变量
var country string = "中国" 

// 或可使用 var country = "中国"
// 不可使用 country := "中国"

func main() {
    fmt.Println(country)
    country = "China"
    fmt.Println(country)
}
```

> Go中的全局变量比较特殊，如果全局变量名首字母小写，则只能被当前包中的go文件使用，外部无法使用；如果首字母大写，则任意文件都使用全局变量。

- 局部变量: Go中的变量有作用域之分，每个大括号就是一个作用域，每个作用域中都可定义相关的局部变量

```go
package main

import (
   "fmt"
)

func main() {
   // 声明局部变量，在当前函数可用
   var name string = "张三"
   fmt.Println(name)

    if true {
      //  生命局部变量，在当前if中可用
      var age = 18
      fmt.Println(age)
   }
    
   // 报错，age在if括号的作用域中
   // fmt.Println(age)
}
```

#### 赋值及内存相关

示例1

```go
name := "张三"
```

<img src="https://gitee.com/featherwit0918/imgstorage/raw/master/20210809163128.png">

示例2

```go
name := "张三"
nickname := name
```

<img src="https://gitee.com/featherwit0918/imgstorage/raw/master/20210809163200.png">

示例3

```go
name := "张三"
nickname := name

name = "李四"
```

<img src="https://gitee.com/featherwit0918/imgstorage/raw/master/20210809163859.png" width="28%">

```go
package main

import "fmt"

func main() {
	name := "张三"
	nickname := name

	fmt.Println(name, &name)
	fmt.Println(nickname, &nickname)

	name = "李四"
	fmt.Println(name, &name)
	fmt.Println(nickname, &nickname)
}
```

>注意:
>
>使用int、string、bool这三种数据类型时, 如果遇到变量的赋值则会拷贝一份【值类型】
>
>```go
>name := "张三"
>nickname := name
>```



### 常量

不可被修改的变量

```go
package main

import "fmt"

func main() {
    // 定义常量
    //const age int = 98
    const age = 98
    fmt.Println(age)
}
```

#### 因式分解

```go
package main

import "fmt"

func main() {
    // 常量因式分解
    const (
        v1 = 123
        v2 = 456
        pi = 9.9
    )
    fmt.Println(v1, v2, pi, gender)
}
```

#### 全局常量

```go
package main

import "fmt"

const Data = 999

const (
    pi     = 3.1415926
    gender = "男"
)

func main() {
    const (
        v1 = 123
        v2 = 456
        //pi = 9.9
    )
    fmt.Println(v1, v2, pi, gender)
}
```

#### iota

可有可无，当做一个在声明常量时的一个计数器

```go
const (
	monday = iota + 1
	tuesday
	wednesday
	thursday
	friday
	saturday
	sunday
)

const (
	n1 = iota
	n2
	n3
)
```



### 输入

让用户输入数据，完成项目交互

- fmt.Scan
- fmt.Scanln
- fmt.Scanf

```go
package main

import "fmt"

func main() {

	// 示例1: fmt.Scan
	/*
		var name string
		fmt.Println("请输入用户名: ")

		fmt.Scan(&name)
		fmt.Println(name)
	*/

	// 示例2: fmt.Scan
    var name string
    var age int
    fmt.Println("请输入用户名: ")

    // 当使用Scan时, 会提示用户输入
    // 用户输入完成之后, 会得到两个值: count, 用户输入了几个值; err, 用户输入错误则是错误信息
    count, err := fmt.Scan(&name)
    fmt.Println(count, err)
    if err == nil{
        fmt.Println(name, age)
    }else {
        fmt.Println("用户输入数据错误", err)
    }
    // 特别说明: fmt.Scan要求输入两个值, 必须输入两个, 否则他会一直等待
}
```

```go
package main

import "fmt"

func main() {

	// 示例1: fmt.Scanln
	/*
		var name string
		fmt.Println("请输入用户名: ")

		fmt.Scanln(&name)
		fmt.Println(name)
	*/

	// 示例2: fmt.Scanln
    var name string
    var age int
    fmt.Println("请输入用户名: ")

    // 当使用Scanln时, 会提示用户输入
    // 用户输入完成之后, 会得到两个值: count, 用户输入了几个值; err, 用户输入错误则是错误信息
    count, err := fmt.Scanln(&name)
    fmt.Println(count, err)
    if err == nil{
        fmt.Println(name, age)
    }else {
        fmt.Println("用户输入数据错误", err)
    }
    // 特别说明: fmt.Scanln会等待回车
}
```

```go
package main

import "fmt"

func main(){
    var name string
	var age int

	fmt.Println("请输入用户名:")
	_, err := fmt.Scanf("我叫:%s 今年%d 岁", &name, &age)
	if err != nil{
		fmt.Println("输入错误")
	}else {
		fmt.Println(name, age)
	}
}
```

当使用ftm.Scan等功能时，如果输入一整行且期间存在空格，则无法获取整行。
想要读取一行数据，这个功能可以基于标准输入来进行实现。

```go
package main

import (
    "bufio"
    "fmt"
    "os"
)

func main() {
    reader := bufio.NewReader(os.Stdin)
    // line，从stdin中读取一行的数据（字节集合 -> 转化成为字符串）
    // reader默认一次能4096个字节（4096/3)
    //    1. 一次性读完，isPrefix=false
    //    2. 先读一部分，isPrefix=true，再去读取isPrefix=false
    line, _, _ := reader.ReadLine()
    data := string(line)
    fmt.Println(data)
}
```



### 条件语句